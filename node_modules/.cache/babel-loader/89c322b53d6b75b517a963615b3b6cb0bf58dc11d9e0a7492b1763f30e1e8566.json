{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport Navbar from \"@/components/Navbar.vue\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Keranjang\",\n  components: {\n    Navbar\n  },\n  data() {\n    return {\n      keranjangs: [],\n      currentPage: 1,\n      itemsPerPage: 5,\n      // Set the number of items per page\n      checkouts: []\n    };\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.keranjangs.length / this.itemsPerPage);\n    },\n    paginatedKeranjangs() {\n      const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n      const endIndex = startIndex + this.itemsPerPage;\n      return this.keranjangs.slice(startIndex, endIndex);\n    },\n    totalHarga() {\n      return this.keranjangs.reduce(function (items, data) {\n        return items + data.products.harga * data.jumlah_pesanan;\n      }, 0);\n    }\n  },\n  methods: {\n    setKeranjangs(data) {\n      this.keranjangs = data;\n    },\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n    checkout(data) {\n      this.checkouts = data;\n    },\n    postCheckout() {\n      axios.post(\"http://localhost:3000/keranjangs\", this.pesanan).then(() => {\n        this.$router.push({\n          path: \"/keranjang\"\n        });\n        this.$toast.open({\n          message: 'Berhasil dimasukkan keranjang!',\n          type: 'success',\n          queue: true\n          // all of other options may go here\n        });\n      }).catch(err => console.log(err));\n    },\n    deleteItem(keranjangId) {\n      // Implement the logic to delete the item with the given ID\n      axios.delete(`http://localhost:3000/keranjangs/${keranjangId}`).then(() => {\n        // Refresh the data after deletion\n        this.$toast.open({\n          message: 'Item Berhasil Dihapus!',\n          type: 'error',\n          queue: true\n          // all of other options may go here\n        });\n        this.refreshData();\n      }).catch(error => console.log(\"Error deleting item\", error));\n    },\n    refreshData() {\n      // Fetch updated data after deletion or any other changes\n      axios.get(\"http://localhost:3000/keranjangs/\").then(response => {\n        this.setKeranjangs(response.data);\n      }).catch(error => console.log(\"Error refreshing data\", error));\n    }\n  },\n  mounted() {\n    // Fetch initial data\n    this.refreshData();\n  }\n};","map":{"version":3,"names":["axios","Navbar","name","components","data","keranjangs","currentPage","itemsPerPage","checkouts","computed","totalPages","Math","ceil","length","paginatedKeranjangs","startIndex","endIndex","slice","totalHarga","reduce","items","products","harga","jumlah_pesanan","methods","setKeranjangs","changePage","page","checkout","postCheckout","post","pesanan","then","$router","push","path","$toast","open","message","type","queue","catch","err","console","log","deleteItem","keranjangId","delete","refreshData","error","get","response","mounted"],"sources":["D:\\PROJECT\\VUE JS\\belajar-vue\\src\\views\\Keranjang.vue"],"sourcesContent":["<template>\r\n  <div class=\"keranjang\">\r\n    <Navbar :updateKeranjangs=\"keranjangs\" />\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb\">\r\n              <li class=\"breadcrumb-item\" style=\"color: green;\"><router-link to=\"/\">Home</router-link></li>\r\n              <li class=\"breadcrumb-item\" style=\"color: blue;\"><router-link to=\"/foods\">Daftar Menu</router-link></li>\r\n              <li class=\"breadcrumb-item active\" aria-current=\"page\" style=\"color: rgb(29, 29, 29);\">Order</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n\r\n          <div class=\"table-responsive mt-3\" v-if=\"keranjangs.length > 0\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">No. </th>\r\n                  <th scope=\"col\">Foto</th>\r\n                  <th scope=\"col\">Makanan</th>\r\n                  <th scope=\"col\">Jumlah Pesanan</th>\r\n                  <th scope=\"col\">Keterangan</th>\r\n                  <th scope=\"col\">Harga</th>\r\n                  <th scope=\"col\">Harga Total</th>\r\n                  <th scope=\"col\">Hapus Item</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(keranjang, index) in keranjangs\" :key=\"keranjang.id\">\r\n                  <th>{{ index + 1 }}</th>\r\n                  <td><img width=\"250\" :src=\"'../assets/images/' + keranjang.products.gambar\" class=\"img-fluid shadow\"\r\n                      alt=\"gambar\">\r\n                  </td>\r\n                  <td>{{ keranjang.products.nama }}</td>\r\n                  <td>{{ keranjang.jumlah_pesanan }}</td>\r\n                  <td>{{ keranjang.keterangan }}</td>\r\n                  <td align=\"right\">{{ keranjang.products.harga }}</td>\r\n                  <td align=\"right\"> <strong>Rp. {{ keranjang.products.harga * keranjang.jumlah_pesanan }}</strong> </td>\r\n                  <td><button type=\"button\" class=\"btn btn-danger\" @click=\"deleteItem(keranjang.id)\">Hapus</button></td>\r\n\r\n                  <!-- ... (lanjutan kolom tabel) ... -->\r\n                </tr>\r\n                <tr>\r\n                  <td colspan=\"6\">Jumlah Pesanan: </td>\r\n                  <td align=\"right\"><strong>Rp. {{ totalHarga }}</strong></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"d-flex justify-content-center align-items-center\" v-else>\r\n            <h3 class=\"text-muted text-center\">Belum Ada Keranjang</h3>\r\n          </div>\r\n          <nav aria-label=\"Page navigation example\">\r\n            <ul class=\"pagination justify-content-center\">\r\n              <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n                <a class=\"page-link\" @click=\"changePage(currentPage - 1)\" href=\"#\" tabindex=\"-1\"\r\n                  aria-disabled=\"true\">Previous</a>\r\n              </li>\r\n              <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\" :class=\"{ active: page === currentPage }\">\r\n                <a class=\"page-link\" @click=\"changePage(page)\" href=\"#\">{{ page }}</a>\r\n              </li>\r\n              <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\r\n                <a class=\"page-link\" @click=\"changePage(currentPage + 1)\" href=\"#\">Next</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-4\">\r\n          <!-- Form Control-->\r\n          <form class=\"row\" @submit.prevent=\"checkout\">\r\n            <div class=\"col-md-6 form-group\">\r\n              <label for=\"nama\">Nama Pemesan</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"nama\" placeholder=\"Masukan Nama Pemesan\" v-model=\"pesan.nama\">\r\n            </div>\r\n            <div class=\"col-md-6 form-group\">\r\n              <label for=\"nomor\">Nomor Meja</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"nama\" placeholder=\"Masukan Nomer Meja\" v-model=\"pesan.nomor\">\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n          </form>\r\n          <!-- //End Of Form control -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport Navbar from \"@/components/Navbar.vue\";\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"Keranjang\",\r\n  components: {\r\n    Navbar,\r\n  },\r\n  data() {\r\n    return {\r\n      keranjangs: [],\r\n      currentPage: 1,\r\n      itemsPerPage: 5, // Set the number of items per page\r\n      checkouts: [],\r\n    };\r\n  },\r\n  computed: {\r\n    totalPages() {\r\n      return Math.ceil(this.keranjangs.length / this.itemsPerPage);\r\n    },\r\n    paginatedKeranjangs() {\r\n      const startIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n      const endIndex = startIndex + this.itemsPerPage;\r\n      return this.keranjangs.slice(startIndex, endIndex);\r\n    },\r\n    totalHarga() {\r\n      return this.keranjangs.reduce(function (items, data) {\r\n        return items + (data.products.harga * data.jumlah_pesanan)\r\n      }, 0)\r\n    }\r\n  },\r\n  methods: {\r\n    setKeranjangs(data) {\r\n      this.keranjangs = data;\r\n    },\r\n    changePage(page) {\r\n      if (page >= 1 && page <= this.totalPages) {\r\n        this.currentPage = page;\r\n      }\r\n    },\r\n    checkout(data) {\r\n      this.checkouts = data\r\n    },\r\n    postCheckout() {\r\n      axios\r\n        .post(\"http://localhost:3000/keranjangs\", this.pesanan)\r\n        .then(\r\n          () => {\r\n            this.$router.push({ path: \"/keranjang\" })\r\n            this.$toast.open({\r\n              message: 'Berhasil dimasukkan keranjang!',\r\n              type: 'success',\r\n              queue: true,\r\n              // all of other options may go here\r\n            });\r\n          }\r\n        )\r\n        .catch((err) => console.log(err))\r\n    },\r\n    deleteItem(keranjangId) {\r\n      // Implement the logic to delete the item with the given ID\r\n      axios\r\n        .delete(`http://localhost:3000/keranjangs/${keranjangId}`)\r\n        .then(() => {\r\n          // Refresh the data after deletion\r\n          this.$toast.open({\r\n            message: 'Item Berhasil Dihapus!',\r\n            type: 'error',\r\n            queue: true,\r\n            // all of other options may go here\r\n          });\r\n          this.refreshData();\r\n        })\r\n        .catch((error) => console.log(\"Error deleting item\", error));\r\n    },\r\n    refreshData() {\r\n      // Fetch updated data after deletion or any other changes\r\n      axios\r\n        .get(\"http://localhost:3000/keranjangs/\")\r\n        .then((response) => {\r\n          this.setKeranjangs(response.data);\r\n        })\r\n        .catch((error) => console.log(\"Error refreshing data\", error));\r\n    },\r\n  },\r\n  mounted() {\r\n    // Fetch initial data\r\n    this.refreshData();\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style></style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}